<!DOCTYPE html>
<html lang="es">
<head>
    <title>Gestión de Reservas - Clínica IDW.SA</title>
    <script type="module" src="js/auth.js" defer></script> 
    <script type="module" src="js/Reservas.js" defer></script> 
    <script type="module" src="js/adminReservas.js" defer></script> <script type="module">
      import { isAuthenticated } from './js/auth.js'; 
      if (!isAuthenticated()) {
          window.location.replace('login.html');
      }
    </script>
</head>
<body>
    <header></header>

    <main class="container my-5">
        <h1 class="text-primary mb-4">Gestión de Reservas y Pacientes</h1>
        
        <nav class="mb-4">
          <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <a class="nav-link" href="admin.html" role="tab">Médicos</a>
            <a class="nav-link active" role="tab" aria-selected="true">Reservas/Pacientes</a>
            <a class="nav-link" href="usuarios.html" role="tab">Usuarios (API)</a>
          </div>
        </nav>

        <h2 class="h4 text-secondary mb-3">Reservas Pendientes/Confirmadas</h2>
        <div class="table-responsive">
            <table class="table table-bordered table-striped">
                <thead class="table-primary">
                    <tr>
                        <th>ID</th>
                        <th>Paciente (DNI)</th>
                        <th>Fecha Turno</th>
                        <th>Médico</th>
                        <th>Costo</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="tabla-reservas">
                    </tbody>
            </table>
        </div>

        <h2 class="h4 text-secondary mt-5 mb-3">Lista de Pacientes Registrados</h2>
        <p class="text-muted small">Pacientes únicos que han realizado al menos una reserva.</p>
        <div class="table-responsive">
            <table class="table table-bordered table-striped">
                <thead class="table-info">
                    <tr>
                        <th>Nombre</th>
                        <th>DNI</th>
                        <th>Última Reserva</th>
                    </tr>
                </thead>
                <tbody id="tabla-pacientes">
                    </tbody>
            </table>
        </div>
    </main>
    <footer></footer>
</body>
</html>